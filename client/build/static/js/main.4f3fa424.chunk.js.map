{"version":3,"sources":["services/apiService.js","components/CreateRoutine/index.js","components/RoutineList/index.js","components/SingleRoutine/index.js","components/UpdateRoutine/index.js","components/Dashboard.js","components/LoginForm.js","components/Login.js","components/SignUpForm.js","components/Signup.js","services/authService.js","components/ProtectedRoute.js","App.js","index.js"],"names":["JWT_TOKEN","localStorage","getItem","apiClient","axios","create","baseURL","headers","login","data","a","post","response","token","user","setItem","id","signUp","createRoutine","updateRoutine","routineId","userId","put","deleteRoutine","delete","getProfile","get","console","log","getFamousPerson","getNormalPerson","state","props","CreateRoutine","handleChange","e","currentElement","target","name","value","newState","setState","handleSubmit","preventDefault","startTime","endTime","description","routine","created","this","to","className","onChange","onSubmit","for","type","React","Component","RoutineList","getFamous","getNormal","renderPerson","map","key","pathname","routines","renderNormalPerson","SingleRoutine","handleDelete","history","push","location","onClick","renderRoutines","UpdateRoutine","updated","Dashboard","exact","path","component","render","LoginForm","handleSubmitForm","event","email","password","handleLogin","showError","handleTextInput","errorMessage","isSignedIn","Login","SignUpForm","handleSignUp","Signup","authService","isAuthenticated","signOut","removeItem","ProtectedRoute","rest","from","App","loginUser","credentials","signOutUser","signUpUser","newUser","fetchUser","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.4f3fa424.chunk.js","sourcesContent":["import axios from 'axios'\nconst BASE_URL = \"https://sport-todo.herokuapp.com\"\n\nconst JWT_TOKEN = localStorage.getItem('token')\n\nconst apiClient = axios.create({\n    baseURL: BASE_URL,\n    headers: {\n        'Authorization': `Bearer ${JWT_TOKEN}`\n    \n    }\n})\n\nexport const login = async (data) => {\n    try {\n        const response = await apiClient.post('/auth/login', data)\n        const { token, user } = response.data\n\n        localStorage.setItem('token', token)\n        localStorage.setItem('userId', user.id)\n        return user\n\n    } catch(e) {\n        throw e\n    }\n}\n\nexport const signUp = async (data) => {\n    try {\n        const response = await apiClient.post('/auth/signup', data)\n        const { token, user } = response.data\n\n        localStorage.setItem('token', token)\n        return user\n\n    } catch(e) {\n        throw e\n    }\n}\n\nexport const createRoutine = async (data) => {\n    try {\n        const response = await apiClient.post('/app/routine', data)\n        const { user } = response.data\n        return user\n      \n    } catch(e) {\n        throw e\n    }\n}\n\nexport const getRoutine = async (routineId) => {\n    try {\n        const response = await apiClient.get(`/app/routine/${routineId}`)\n        return response.data\n    } catch (error) {\n        throw error\n        \n    }\n}\n\nexport const updateRoutine = async (routineId, data) => {\n    try {\n        let userId = localStorage.getItem('userId')\n        const response = await apiClient.put(`/app/routines/user/${userId}/update/${routineId}`, data)\n    \n        return response\n        \n    } catch (e) {\n        throw e\n        \n    }\n}\n\nexport const deleteRoutine = async (routineId, data) => {\n    try {\n        const response = await apiClient.delete(`/app/routine/${routineId}/delete`, data)\n    \n        return response;\n    } catch (e) {\n        throw e\n        \n    }\n}\n\nexport const getProfile = async () => {\n    try {\n        const response = await apiClient.get('/app/profile')\n        const {user} = response.data\n        console.log(getProfile)\n\n        return user\n\n    } catch(e) {\n        throw e\n    }\n}\n\nexport const getFamousPerson = async ()=> {\n    try {\n    \n        const response = await apiClient.get('/app/routine/users/famous')\n        // const {user} = response.data\n        console.log(getFamousPerson)\n\n        // return user\n        console.log(response)\n        return response.data\n    } catch(e) {\n        throw e\n    }\n}\n\nexport const getNormalPerson = async (id)=> {\n    try {\n    \n        const response = await apiClient.get(`/app/routine/users/${id}`)\n        const {user} = response.data\n        console.log(this.state)\n        console.log(this.props)\n        console.log(user)\n        // return user\n        \n        console.log(response)\n\n        return response.data\n    } catch(e){\n        throw e\n    }\n}\n\n//need to make api call from api service to create local storage of user id ","import React from 'react';\nimport './CreateRoutine.css';\nimport { Redirect } from 'react-router-dom';\nimport { createRoutine } from '../../services/apiService'\nimport './CreateRoutine.css'\n\nclass CreateRoutine extends React.Component {\n    constructor(props) {\n        super(props)\n\n        this.props = props\n        this.state = {\n            created: false,\n            name: '',\n            userId: props.user.id\n        }\n    }\n\n\n  handleChange = (e) => {\n    const currentElement = e.target\n    const { name, value } = currentElement\n    const newState = {};\n    newState[name] = value\n    this.setState(newState)\n  }\n\n  handleSubmit = async (e) => {\n    e.preventDefault()\n    const { userId, name, startTime, endTime, description } = this.state\n    const routine = { userId, name, startTime, endTime, description};\n\n    await createRoutine(routine);\n\n    this.setState({created: true})\n  }\n\n\n\n    render() {\n        if (this.state.created){return <Redirect to=\"/dashboard\"></Redirect>}\n        return (\n            <div className=\"routines\">\n                    <h1>What to do:</h1>\n                    <form onChange={this.handleChange} onSubmit={this.handleSubmit}>\n                        <label for=\"startTime\">Start :</label>\n                        <input name=\"startTime\" type=\"text\" />\n                        <label for=\"endTime\">End Time :</label>\n                        <input name=\"endTime\" type=\"text\" />\n                        <label for=\"description\">What to do :</label>\n                        <input name=\"description\" type=\"text\" />\n                        <div className=\"submit\"><input type = \"submit\" /></div> \n                    </form>\n            </div>\n        );\n    };\n}\n\nexport default CreateRoutine","import React from 'react';\nimport { Route, Link } from 'react-router-dom';\nimport { getFamousPerson } from '../../services/apiService';\nimport { getNormalPerson } from '../../services/apiService';\nimport './RoutineList.css';\n\n\nclass RoutineList extends React.Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            data:[],\n            routines:[]\n        }\n    }\n\n    async componentDidMount () {\n        // Also get the logged in user and display below the famous people\n        await this.getFamous() \n        await this.getNormal ()\n    }\n\n    getFamous = async () => {\n        const data = await getFamousPerson()\n        //  console.log(data)\n        this.setState({data})\n        console.log('getfamous', data)\n    }\n\n    getNormal = async () => {\n        const data = await getNormalPerson()\n        this.setState({data})\n        \n    }\n\n    renderPerson= () => {\n        if(this.state.data){\n            return this.state.data.map(user =>{\n                \n                return (\n                    <h2 key={user.id}><Link className =\"peoples-list\" to={{\n                        pathname:`/dashboard/routine/${user.id}`,\n                        state:{routines:user.routines}\n                }}>{user.name}</Link></h2>\n                )\n            })\n        }\n    }\n\n    renderNormalPerson= () => {\n       \n        if(this.state.data){\n            return this.state.data.map(user =>{\n                console.log('rendernormalperson',user)\n                // console.log(this.state)\n                console.log('RNP props',this.props)\n                return (\n                    <li key={user.id}><Link to={{\n                        pathname:`/dashboard/routine/${user.id}`,\n                        state:{routines:user.routines}\n                }}>{user.name}</Link></li>\n                )\n            })\n        }\n    }\n\n    render() {\n        return( \n        <div>\n            <h1>Create New Todo </h1>\n                <div className=\"people-list\">\n                    \n                        {this.renderPerson()}\n                    \n                </div>\n                <div className= 'button-div'>\n                    <Link className= \"create-routine-button\" to='/dashboard/create'> New Todo</Link>\n                </div>\n            \n        </div>\n        )\n    }\n}\n\nexport default RoutineList\n\n","import React from 'react';\nimport './SingleRoutine.css';\nimport {deleteRoutine} from '../../services/apiService';\nimport { Redirect } from 'react-router-dom';\n\nconst  SingleRoutine = (props) =>  {\n\n  const handleDelete = async (id) => {\n    await deleteRoutine(id);\n    await props.history.push(`/dashboard`)\n  }\n\nconst renderRoutines = () => {\n\n  if(props.location.state){\n    return props.location.state.routines.map(routine => {\n      return (\n        <div className=\"single-routine\">\n          <div key={routine.id}>{routine.startTime} - {routine.endTime} : {routine.description}\n          </div>\n          <div>\n            <button className=\"update-button\" onClick={()=> props.history.push('/dashboard/routine/:routine_id/update', {routineId: routine.id})}>Update</button>\n          </div>\n          <br />\n          <div>\n            <button className=\"delete-button\" onClick={() => handleDelete(routine.id)}>Delete</ button>\n          </div>\n        </div>\n      )\n    })\n  }\n}\n    return (\n      <div>\n       {renderRoutines()}\n      </div>\n    );\n  }\n\n\nexport default SingleRoutine;","import React from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { updateRoutine } from '../../services/apiService'\nimport Axios from 'axios';\nimport './UpdateRoutine.css'\n\n\nclass UpdateRoutine extends React.Component {\n    constructor(props) {\n        super(props)\n\n        this.props = props\n        this.state = {\n            updated: false\n        }\n    }\n\n\n  handleChange = (e) => {\n    const currentElement = e.target\n    const { name, value } = currentElement\n    const newState = {};\n    newState[name] = value\n    this.setState(newState)\n  }\n\n  handleSubmit = async (e) => {\n    e.preventDefault()\n    const { userId, name, startTime, endTime, description } = this.state\n    const routine = { userId, name, startTime, endTime, description};\n    const id = this.props.location.state.routineId\n    await updateRoutine(id, routine);\n\n    this.setState({updated: true})\n  }\n\n\n    render() {\n        if (this.state.updated){return <Redirect to=\"/dashboard\"></Redirect>}\n        return (\n            <div className=\"update-routines\">\n                <h1>Update Your todo:</h1>\n                    <form onChange={this.handleChange} onSubmit={this.handleSubmit}>\n                        <label for=\"startTime\">Start</label>\n                        <input name=\"startTime\" type=\"text\" />\n                        <label for=\"endTime\">End</label>\n                        <input name=\"endTime\" type=\"text\" />\n                        <label for=\"description\">What to do</label>\n                        <input name=\"description\" type=\"text\" />\n                        <div className=\"submit\"><input type = \"submit\" /></div> \n                    </form>\n                 \n            </div>\n        );\n    };\n}\n\nexport default UpdateRoutine","import React from 'react'\nimport { Route, Switch } from 'react-router-dom';\n// import { userInfo } from 'os';\n\nimport CreateRoutine from './CreateRoutine'\nimport RoutineList from './RoutineList';\nimport SingleRoutine from './SingleRoutine';\nimport UpdateRoutine from './UpdateRoutine';\n\n\n\nclass Dashboard extends React.Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            routines: []\n        }\n    }\n\n    render() {\n        const { user } = this.props\n\n        return( \n            <div className=\"routine\">\n                <Switch>\n                    <Route exact path=\"/dashboard/\" component={RoutineList} />\n                    <Route exact path='/dashboard/routine/:id' render={(props)=> <SingleRoutine {...props}/>}/>\n                    <Route exact path=\"/dashboard/create\" render={(props) => <CreateRoutine {...props} user={user} />} />\n                    <Route exact path='/dashboard/routine/:routine_id/update' render={(props) => <UpdateRoutine {...props}/>}/>\n                </Switch>\n            </div>\n        )\n    }\n}\n\n\nexport default Dashboard","import React from 'react'\nimport {Redirect} from 'react-router'\n\nclass  LoginForm extends React.Component {\n    constructor(props) {\n        super(props)\n\n        this.state= {\n            email: \"\",\n            password: \"\",\n            showError: false\n        }\n    }\n\nhandleSubmitForm = async (event) => {\n    event.preventDefault()\n    const { email, password } = this.state\n    const { handleLogin } = this.props\n\n\n    try {\n        await handleLogin({ email, password})\n    } catch(e) {\n        this.setState(state => {\n            return { showError: true }\n        })\n\n    }\n}\n\nhandleTextInput = (event) => {\n    const { name, value }= event.target\n\n    this.setState(state => {\n        return { [name] : value}\n    })\n}\n\n    render() {\n        const { isSignedIn} = this.props\n        const { showError } = this.state\n\n        let errorMessage\n\n        if(showError) {\n            errorMessage = (\n                <div className=\"errorMessage\">\n                    <span>An error occured, please try again</span>\n                </div>\n            )\n        }\n        if (isSignedIn) {\n            return <Redirect to=\"/dashboard\" />\n        }\n        return( \n            <div>\n                <h1>Login</h1>\n                { errorMessage}\n                <form className=\"form\" onSubmit={this.handleSubmitForm}>\n                    <div>\n                        <label>Email</label>\n                        <input\n                        type=\"text\"\n                        name=\"email\"\n                        onChange={this.handleTextInput}\n                        value={this.state.email}\n                         />\n                    </div>\n                    <div>\n                        <label>Password</label>\n                        <input\n                        type=\"password\"\n                        name=\"password\"\n                        onChange={this.handleTextInput}\n                        value={this.state.password}\n                         />\n                    </div>\n                    <button>Login</button>\n                </form>\n            </div>\n            )\n    }\n\n}\n\n\nexport default LoginForm","import React from 'react'\nimport LoginForm from './LoginForm'\nimport './Login.css'\n\nfunction Login(props) {\n    return(\n        <div className=\"login\">\n            <LoginForm {...props} />\n        </div>\n    )\n}\n\n\nexport default Login","import React, { Component } from 'react'\nimport { createSign } from 'crypto';\nimport {Redirect} from 'react-router'\n\nclass SignUpForm extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            name: '',\n            email: '',\n            password: '',\n            showError: false\n        }\n    }\n\n    handleSubmitForm = async (e) => {\n        e.preventDefault()\n        const { name, email, password } = this.state\n        const  { handleSignUp } = this.props;\n        console.log(this.props);\n\n        try {\n\n            await handleSignUp({name, email, password})\n        } catch(e) {\n            this.setState(state => {\n                return { showError : true}\n            })\n        }\n    }\n\n    handleTextInput = (e) => {\n        const { name, value } = e.target\n        this.setState(state => {\n            return { [name] : value}\n        })\n    }\n\n    render() {\n        const { isSignedIn} = this.props\n        if (isSignedIn) {\n            return <Redirect to=\"/dashboard\" />\n        }\n\n        return(\n            <div>\n                <h1 className=\"sign-form-title\">Sign Up</h1>\n                <form className=\"sign-up-form\" onSubmit={this.handleSubmitForm}>\n                    <div>\n                        <label>Name</label>\n                        <input \n                        type=\"text\" \n                        name='name'\n                        onChange={this.handleTextInput}\n                        value ={this.state.name}/>\n\n                    </div>\n                    <div>\n                        <label>Email</label>\n                        <input \n                        type=\"text\" \n                        name=\"email\"\n                        onChange={this.handleTextInput}\n                        value={this.state.email}/>\n                    </div>\n                    <div>\n                        <label>password</label>\n                        <input \n                        type=\"password\" \n                        name=\"password\"\n                        onChange={this.handleTextInput}\n                        value={this.state.password} />\n                    </div>\n                    <button className=\"sign-up-button\">Sign up</button>\n                </form>\n            </div>\n        )\n    }\n}\n\n\nexport default  SignUpForm ","import React from 'react'\nimport SignUpForm from './SignUpForm'\nimport './Signup.css'\n\n\nfunction Signup(props) {\n    return(\n        <div className=\"signup\">\n            <SignUpForm {...props} />\n        </div>\n    )\n}\n\n\nexport default Signup","const authService = {\n    isAuthenticated: () => {\n        const token = localStorage.getItem('token')\n            return token ? true : false\n    },\n\n    signOut: () => {\n        localStorage.removeItem('token')\n    }\n}\n\n\nexport default authService","import React from 'react'\nimport authService from '../services/authService'\nimport { Route, Redirect } from 'react-router-dom'\n\n/**\n * Protected route using React Router\n * https://tylermcginnis.com/react-router-protected-routes-authentication/\n */\nfunction ProtectedRoute ({ component: Component, ...rest }) {\n    return (\n      <Route\n        {...rest}\n        render={props =>\n          authService.isAuthenticated() ? (\n            <Component {...props} {...rest} />\n          ) : (\n            <Redirect\n              to={{\n                pathname: '/login',\n                state: { from: props.location }\n              }}\n            />\n          )\n        }\n      />\n    )\n  }\n  \n  export default ProtectedRoute\n  ","import React from 'react';\nimport { Route, Link } from 'react-router-dom';\n//Components\nimport Dashboard from './components/Dashboard'\nimport Login from './components/Login'\nimport Signup from './components/Signup'\nimport  ProtectedRoute from './components/ProtectedRoute'\n//helper functions\nimport { login, getProfile, signUp } from './services/apiService'\n//CSS\nimport './App.css';\nimport authService from './services/authService';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      isSignedIn: false,\n      user: {}\n    }\n  }\n\n\n  async componentDidMount() {\n    try{\n      const fetchUser = await getProfile()\n\n      this.setState(state => {\n        return {\n          isSignedIn: authService.isAuthenticated(),\n          user: fetchUser\n        }\n      })\n    } catch(e) {\n      throw e\n    }\n  }\n\nloginUser = async (credentials) => {\n  try {\n    const user = await login(credentials)\n    this.setState(state => {\n      return {\n        isSignedIn: true,\n        user: user\n      }\n    })\n  }\n  catch (e) {\n    throw e\n  }\n}\n\n\nsignOutUser = () => {\n  authService.signOut()\n\n  this.setState(state => {\n    return {\n      isSignedIn: false,\n      user: {}\n    }\n  })\n}\n\nsignUpUser = async (credentials) => {\n  \n  try {\n    await signUp(credentials)\n    const newUser = {email: credentials.email, password: credentials.password}\n    this.loginUser(newUser)\n  } catch (e) {\n    throw e\n  }\n}\n\n  render() {\n    const { isSignedIn , user} = this.state\n    \n    return (\n      <div className=\"App\">\n  \n        <nav>\n          {\n            isSignedIn &&\n            <div><Link to=\"/dashboard\">Home</Link></div>\n\n          }\n          {\n            !isSignedIn ? (\n              <div><Link to=\"/login\">Login</Link></div>\n            ) : (\n              <Link onClick= {this.signOutUser}>Sign Out</Link>\n            )\n          \n          }\n\n          \n\n          {!isSignedIn ? (\n              <div><Link to=\"/signup\">Sign up</Link></div>\n            ) : (\n              null\n            )\n          }\n\n        </nav>\n        <div>\n        {!isSignedIn ? (\n            <div>\n              <h2 className=\"title\">Todo</h2>\n              <br></br>\n              <h4 className=\"title-description\">Make your own todo list from scratch</h4>\n            </div>\n          ) : (\n              null\n            )\n          }\n        </div>\n  \n        <main>\n          <ProtectedRoute \n            path=\"/dashboard\" \n            user={user}\n            component={Dashboard} \n          \n          />\n          \n          <Route \n            path=\"/login\"\n            render={(props) => <Login  {...props} handleLogin={this.loginUser} isSignedIn={isSignedIn}/>} \n          />\n          <Route \n            path='/signup' \n            render = {(props) => <Signup {...props} handleSignUp={this.signUpUser} isSignedIn={isSignedIn} />}\n          />\n        </main>\n          \n      </div>\n    );\n  }\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { BrowserRouter as Router } from \"react-router-dom\";\n\nReactDOM.render(\n    <Router>\n         <App/>\n    </Router>,\n    document.getElementById('root')\n);"],"sourceRoot":""}