{"ast":null,"code":"import axios from 'axios';\nconst BASE_URL = process.env.API_URL || 'http://localhost:8001';\nconst JWT_TOKEN = localStorage.getItem('token');\nconst apiClient = axios.create({\n  baseURL: BASE_URL,\n  headers: {\n    'Authorization': \"Bearer \".concat(JWT_TOKEN)\n  }\n});\nexport const login = async data => {\n  try {\n    const response = await apiClient.post('/auth/login', data);\n    const _response$data = response.data,\n          token = _response$data.token,\n          user = _response$data.user;\n    localStorage.setItem('token', token);\n    localStorage.setItem('userId', user.id);\n    return user;\n  } catch (e) {\n    throw e;\n  }\n};\nexport const signUp = async data => {\n  try {\n    const response = await apiClient.post('/auth/signup', data);\n    const _response$data2 = response.data,\n          token = _response$data2.token,\n          user = _response$data2.user;\n    localStorage.setItem('token', token);\n    return user;\n  } catch (e) {\n    throw e;\n  }\n};\nexport const createRoutine = async data => {\n  try {\n    const response = await apiClient.post('/app/routine', data);\n    const user = response.data.user;\n    return user;\n  } catch (e) {\n    throw e;\n  }\n};\nexport const getRoutine = async routineId => {\n  try {\n    const response = await apiClient.get(\"/app/routine/\".concat(routineId));\n    return response.data;\n  } catch (error) {\n    throw error;\n  }\n};\nexport const updateRoutine = async (routineId, data) => {\n  try {\n    let userId = localStorage.getItem('userId');\n    const response = await apiClient.put(\"/app/routines/user/\".concat(userId, \"/update/\").concat(routineId), data);\n    return response;\n  } catch (e) {\n    throw e;\n  }\n};\nexport const deleteRoutine = async (routineId, data) => {\n  try {\n    const response = await apiClient.delete(\"/app/routine/\".concat(routineId, \"/delete\"), data);\n    return response;\n  } catch (e) {\n    throw e;\n  }\n};\nexport const getProfile = async () => {\n  try {\n    const response = await apiClient.get('/app/profile');\n    const user = response.data.user;\n    console.log(getProfile);\n    return user;\n  } catch (e) {\n    throw e;\n  }\n};\nexport const getFamousPerson = async () => {\n  try {\n    const response = await apiClient.get('/app/routine/users/famous'); // const {user} = response.data\n\n    console.log(getFamousPerson); // return user\n\n    console.log(response);\n    return response.data;\n  } catch (e) {\n    throw e;\n  }\n};\nexport const getNormalPerson = async id => {\n  try {\n    const response = await apiClient.get(\"/app/routine/users/\".concat(id));\n    const user = response.data.user;\n    console.log(this.state);\n    console.log(this.props);\n    console.log(user); // return user\n\n    console.log(response);\n    return response.data;\n  } catch (e) {\n    throw e;\n  }\n}; //need to make api call from api service to create local storage of user id","map":{"version":3,"sources":["/Users/tylergurman/ga/unit3/project/TodoList/Tylerp4/client/src/services/apiService.js"],"names":["axios","BASE_URL","process","env","API_URL","JWT_TOKEN","localStorage","getItem","apiClient","create","baseURL","headers","login","data","response","post","token","user","setItem","id","e","signUp","createRoutine","getRoutine","routineId","get","error","updateRoutine","userId","put","deleteRoutine","delete","getProfile","console","log","getFamousPerson","getNormalPerson","state","props"],"mappings":"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","sourcesContent":["import axios from 'axios'\nconst BASE_URL = process.env.API_URL || 'http://localhost:8001'\n\nconst JWT_TOKEN = localStorage.getItem('token')\n\nconst apiClient = axios.create({\n    baseURL: BASE_URL,\n    headers: {\n        'Authorization': `Bearer ${JWT_TOKEN}`\n    \n    }\n})\n\nexport const login = async (data) => {\n    try {\n        const response = await apiClient.post('/auth/login', data)\n        const { token, user } = response.data\n\n        localStorage.setItem('token', token)\n        localStorage.setItem('userId', user.id)\n        return user\n\n    } catch(e) {\n        throw e\n    }\n}\n\nexport const signUp = async (data) => {\n    try {\n        const response = await apiClient.post('/auth/signup', data)\n        const { token, user } = response.data\n\n        localStorage.setItem('token', token)\n        return user\n\n    } catch(e) {\n        throw e\n    }\n}\n\nexport const createRoutine = async (data) => {\n    try {\n        const response = await apiClient.post('/app/routine', data)\n        const { user } = response.data\n        return user\n      \n    } catch(e) {\n        throw e\n    }\n}\n\nexport const getRoutine = async (routineId) => {\n    try {\n        const response = await apiClient.get(`/app/routine/${routineId}`)\n        return response.data\n    } catch (error) {\n        throw error\n        \n    }\n}\n\nexport const updateRoutine = async (routineId, data) => {\n    try {\n        let userId = localStorage.getItem('userId')\n        const response = await apiClient.put(`/app/routines/user/${userId}/update/${routineId}`, data)\n    \n        return response\n        \n    } catch (e) {\n        throw e\n        \n    }\n}\n\nexport const deleteRoutine = async (routineId, data) => {\n    try {\n        const response = await apiClient.delete(`/app/routine/${routineId}/delete`, data)\n    \n        return response;\n    } catch (e) {\n        throw e\n        \n    }\n}\n\nexport const getProfile = async () => {\n    try {\n        const response = await apiClient.get('/app/profile')\n        const {user} = response.data\n        console.log(getProfile)\n\n        return user\n\n    } catch(e) {\n        throw e\n    }\n}\n\nexport const getFamousPerson = async ()=> {\n    try {\n    \n        const response = await apiClient.get('/app/routine/users/famous')\n        // const {user} = response.data\n        console.log(getFamousPerson)\n\n        // return user\n        console.log(response)\n        return response.data\n    } catch(e) {\n        throw e\n    }\n}\n\nexport const getNormalPerson = async (id)=> {\n    try {\n    \n        const response = await apiClient.get(`/app/routine/users/${id}`)\n        const {user} = response.data\n        console.log(this.state)\n        console.log(this.props)\n        console.log(user)\n        // return user\n        \n        console.log(response)\n\n        return response.data\n    } catch(e){\n        throw e\n    }\n}\n\n//need to make api call from api service to create local storage of user id "]},"metadata":{},"sourceType":"module"}