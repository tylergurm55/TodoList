{"ast":null,"code":"var _jsxFileName = \"/Users/tylergurman/ga/unit3/project/TodoList/Tylerp4/client/src/App.js\";\nimport React from 'react';\nimport { Route, Link } from 'react-router-dom'; //Components\n\nimport Dashboard from './components/Dashboard';\nimport Login from './components/Login';\nimport Signup from './components/Signup';\nimport ProtectedRoute from './components/ProtectedRoute'; //helper functions\n\nimport { login, getProfile, signUp } from './services/apiService'; //CSS\n\nimport './App.css';\nimport authService from './services/authService';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.loginUser = async credentials => {\n      try {\n        const user = await login(credentials);\n        this.setState(state => {\n          return {\n            isSignedIn: true,\n            user: user\n          };\n        });\n      } catch (e) {\n        throw e;\n      }\n    };\n\n    this.signOutUser = () => {\n      authService.signOut();\n      this.setState(state => {\n        return {\n          isSignedIn: false,\n          user: {}\n        };\n      });\n    };\n\n    this.signUpUser = async credentials => {\n      try {\n        await signUp(credentials);\n        const newUser = {\n          email: credentials.email,\n          password: credentials.password\n        };\n        this.loginUser(newUser);\n      } catch (e) {\n        throw e;\n      }\n    };\n\n    this.state = {\n      isSignedIn: false,\n      user: {}\n    };\n  }\n\n  async componentDidMount() {\n    try {\n      const fetchUser = await getProfile();\n      this.setState(state => {\n        return {\n          isSignedIn: authService.isAuthenticated(),\n          user: fetchUser\n        };\n      });\n    } catch (e) {\n      throw e;\n    }\n  }\n\n  render() {\n    const _this$state = this.state,\n          isSignedIn = _this$state.isSignedIn,\n          user = _this$state.user;\n    return React.createElement(\"div\", {\n      className: \"App\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(\"nav\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, isSignedIn && React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/dashboard\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, \"Home\")), !isSignedIn ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, \"Login\")) : React.createElement(Link, {\n      onClick: this.signOutUser,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, \"Sign Out\"), !isSignedIn ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/signup\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, \"Sign up\")) : null), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, !isSignedIn ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      className: \"title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, \"Todo\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }), React.createElement(\"h4\", {\n      className: \"title-description\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, \"Make your own todo list from scratch\")) : null), React.createElement(\"main\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, React.createElement(ProtectedRoute, {\n      path: \"/dashboard\",\n      user: user,\n      component: Dashboard,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/login\",\n      render: props => React.createElement(Login, Object.assign({}, props, {\n        handleLogin: this.loginUser,\n        isSignedIn: isSignedIn,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      })),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/signup\",\n      render: props => React.createElement(Signup, Object.assign({}, props, {\n        handleSignUp: this.signUpUser,\n        isSignedIn: isSignedIn,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      })),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/tylergurman/ga/unit3/project/TodoList/Tylerp4/client/src/App.js"],"names":["React","Route","Link","Dashboard","Login","Signup","ProtectedRoute","login","getProfile","signUp","authService","App","Component","constructor","props","loginUser","credentials","user","setState","state","isSignedIn","e","signOutUser","signOut","signUpUser","newUser","email","password","componentDidMount","fetchUser","isAuthenticated","render"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Route, Link } from 'react-router-dom';\n//Components\nimport Dashboard from './components/Dashboard'\nimport Login from './components/Login'\nimport Signup from './components/Signup'\nimport  ProtectedRoute from './components/ProtectedRoute'\n//helper functions\nimport { login, getProfile, signUp } from './services/apiService'\n//CSS\nimport './App.css';\nimport authService from './services/authService';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      isSignedIn: false,\n      user: {}\n    }\n  }\n\n\n  async componentDidMount() {\n    try{\n      const fetchUser = await getProfile()\n\n      this.setState(state => {\n        return {\n          isSignedIn: authService.isAuthenticated(),\n          user: fetchUser\n        }\n      })\n    } catch(e) {\n      throw e\n    }\n  }\n\nloginUser = async (credentials) => {\n  try {\n    const user = await login(credentials)\n    this.setState(state => {\n      return {\n        isSignedIn: true,\n        user: user\n      }\n    })\n  }\n  catch (e) {\n    throw e\n  }\n}\n\n\nsignOutUser = () => {\n  authService.signOut()\n\n  this.setState(state => {\n    return {\n      isSignedIn: false,\n      user: {}\n    }\n  })\n}\n\nsignUpUser = async (credentials) => {\n  \n  try {\n    await signUp(credentials)\n    const newUser = {email: credentials.email, password: credentials.password}\n    this.loginUser(newUser)\n  } catch (e) {\n    throw e\n  }\n}\n\n  render() {\n    const { isSignedIn , user} = this.state\n    \n    return (\n      <div className=\"App\">\n  \n        <nav>\n          {\n            isSignedIn &&\n            <div><Link to=\"/dashboard\">Home</Link></div>\n\n          }\n          {\n            !isSignedIn ? (\n              <div><Link to=\"/login\">Login</Link></div>\n            ) : (\n              <Link onClick= {this.signOutUser}>Sign Out</Link>\n            )\n          \n          }\n\n          \n\n          {!isSignedIn ? (\n              <div><Link to=\"/signup\">Sign up</Link></div>\n            ) : (\n              null\n            )\n          }\n\n        </nav>\n        <div>\n        {!isSignedIn ? (\n            <div>\n              <h2 className=\"title\">Todo</h2>\n              <br></br>\n              <h4 className=\"title-description\">Make your own todo list from scratch</h4>\n            </div>\n          ) : (\n              null\n            )\n          }\n        </div>\n  \n        <main>\n          <ProtectedRoute \n            path=\"/dashboard\" \n            user={user}\n            component={Dashboard} \n          \n          />\n          \n          <Route \n            path=\"/login\"\n            render={(props) => <Login  {...props} handleLogin={this.loginUser} isSignedIn={isSignedIn}/>} \n          />\n          <Route \n            path='/signup' \n            render = {(props) => <Signup {...props} handleSignUp={this.signUpUser} isSignedIn={isSignedIn} />}\n          />\n        </main>\n          \n      </div>\n    );\n  }\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}