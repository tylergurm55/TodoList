(window.webpackJsonpclient=window.webpackJsonpclient||[]).push([[0],{112:function(e,t,n){e.exports=n(229)},117:function(e,t,n){},139:function(e,t,n){},140:function(e,t,n){},141:function(e,t,n){},142:function(e,t,n){},146:function(e,t){},148:function(e,t){},184:function(e,t){},185:function(e,t){},227:function(e,t,n){},228:function(e,t,n){},229:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(108),u=n.n(c),s=(n(117),n(1)),o=n.n(s),i=n(4),l=n(9),p=n(10),m=n(12),d=n(11),h=n(13),f=n(8),v=n(18),b=(n(63),n(59)),E=n.n(b),g=localStorage.getItem("token"),w=E.a.create({baseURL:"https://sport-todo.herokuapp.com",headers:{Authorization:"Bearer ".concat(g)}}),O=function(){var e=Object(i.a)(o.a.mark(function e(t){var n,a,r,c;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.post("/auth/login",t);case 3:return n=e.sent,a=n.data,r=a.token,c=a.user,localStorage.setItem("token",r),localStorage.setItem("userId",c.id),e.abrupt("return",c);case 10:throw e.prev=10,e.t0=e.catch(0),e.t0;case 13:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(i.a)(o.a.mark(function e(t){var n,a,r,c;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.post("/auth/signup",t);case 3:return n=e.sent,a=n.data,r=a.token,c=a.user,localStorage.setItem("token",r),e.abrupt("return",c);case 9:throw e.prev=9,e.t0=e.catch(0),e.t0;case 12:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(i.a)(o.a.mark(function e(t){var n,a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.post("/app/routine",t);case 3:return n=e.sent,a=n.data.user,e.abrupt("return",a);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(i.a)(o.a.mark(function e(t,n){var a,r;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=localStorage.getItem("userId"),e.next=4,w.put("/app/routines/user/".concat(a,"/update/").concat(t),n);case 4:return r=e.sent,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t,n){return e.apply(this,arguments)}}(),S=function(){var e=Object(i.a)(o.a.mark(function e(t,n){var a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.delete("/app/routine/".concat(t,"/delete"),n);case 3:return a=e.sent,e.abrupt("return",a);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t,n){return e.apply(this,arguments)}}(),y=function(){var e=Object(i.a)(o.a.mark(function e(){var t,n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.get("/app/profile");case 3:return t=e.sent,n=t.data.user,console.log(y),e.abrupt("return",n);case 9:throw e.prev=9,e.t0=e.catch(0),e.t0;case 12:case"end":return e.stop()}},e,null,[[0,9]])}));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(i.a)(o.a.mark(function e(){var t;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.get("/app/routine/users/famous");case 3:return t=e.sent,console.log(I),console.log(t),e.abrupt("return",t.data);case 9:throw e.prev=9,e.t0=e.catch(0),e.t0;case 12:case"end":return e.stop()}},e,null,[[0,9]])}));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(i.a)(o.a.mark(function e(t){var n,a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.get("/app/routine/users/".concat(t));case 3:return n=e.sent,a=n.data.user,console.log((void 0).state),console.log((void 0).props),console.log(a),console.log(n),e.abrupt("return",n.data);case 12:throw e.prev=12,e.t0=e.catch(0),e.t0;case 15:case"end":return e.stop()}},e,null,[[0,12]])}));return function(t){return e.apply(this,arguments)}}(),T=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(m.a)(this,Object(d.a)(t).call(this,e))).handleChange=function(e){var t=e.target,a=t.name,r=t.value,c={};c[a]=r,n.setState(c)},n.handleSubmit=function(){var e=Object(i.a)(o.a.mark(function e(t){var a,r,c,u,s,i,l;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=n.state,r=a.userId,c=a.name,u=a.startTime,s=a.endTime,i=a.description,l={userId:r,name:c,startTime:u,endTime:s,description:i},e.next=5,j(l);case 5:n.setState({created:!0});case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.props=e,n.state={created:!1,name:"",userId:e.user.id},n}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return this.state.created?r.a.createElement(v.a,{to:"/dashboard"}):r.a.createElement("div",{className:"routines"},r.a.createElement("h1",null,"What to do:"),r.a.createElement("form",{onChange:this.handleChange,onSubmit:this.handleSubmit},r.a.createElement("label",{for:"startTime"},"Start :"),r.a.createElement("input",{name:"startTime",type:"text"}),r.a.createElement("label",{for:"endTime"},"End Time :"),r.a.createElement("input",{name:"endTime",type:"text"}),r.a.createElement("label",{for:"description"},"What to do :"),r.a.createElement("input",{name:"description",type:"text"}),r.a.createElement("div",{className:"submit"},r.a.createElement("input",{type:"submit"}))))}}]),t}(r.a.Component),C=(n(139),function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(m.a)(this,Object(d.a)(t).call(this,e))).getFamous=Object(i.a)(o.a.mark(function e(){var t;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I();case 2:t=e.sent,n.setState({data:t}),console.log("getfamous",t);case 5:case"end":return e.stop()}},e)})),n.getNormal=Object(i.a)(o.a.mark(function e(){var t;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N();case 2:t=e.sent,n.setState({data:t});case 4:case"end":return e.stop()}},e)})),n.renderPerson=function(){if(n.state.data)return n.state.data.map(function(e){return r.a.createElement("h2",{key:e.id},r.a.createElement(f.b,{className:"peoples-list",to:{pathname:"/dashboard/routine/".concat(e.id),state:{routines:e.routines}}},e.name))})},n.renderNormalPerson=function(){if(n.state.data)return n.state.data.map(function(e){return console.log("rendernormalperson",e),console.log("RNP props",n.props),r.a.createElement("li",{key:e.id},r.a.createElement(f.b,{to:{pathname:"/dashboard/routine/".concat(e.id),state:{routines:e.routines}}},e.name))})},n.state={data:[],routines:[]},n}return Object(h.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=Object(i.a)(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getFamous();case 2:return e.next=4,this.getNormal();case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Create New Todo "),r.a.createElement("div",{className:"people-list"},this.renderPerson()),r.a.createElement("div",{className:"button-div"},r.a.createElement(f.b,{className:"create-routine-button",to:"/dashboard/create"}," New Todo")))}}]),t}(r.a.Component)),U=(n(140),function(e){var t=function(){var t=Object(i.a)(o.a.mark(function t(n){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S(n);case 2:return t.next=4,e.history.push("/dashboard");case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}();return r.a.createElement("div",null,function(){if(e.location.state)return e.location.state.routines.map(function(n){return r.a.createElement("div",{className:"single-routine"},r.a.createElement("div",{key:n.id},n.startTime," - ",n.endTime," : ",n.description),r.a.createElement("div",null,r.a.createElement("button",{className:"update-button",onClick:function(){return e.history.push("/dashboard/routine/:routine_id/update",{routineId:n.id})}},"Update")),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement("button",{className:"delete-button",onClick:function(){return t(n.id)}},"Delete")))})}())}),D=(n(141),function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(m.a)(this,Object(d.a)(t).call(this,e))).handleChange=function(e){var t=e.target,a=t.name,r=t.value,c={};c[a]=r,n.setState(c)},n.handleSubmit=function(){var e=Object(i.a)(o.a.mark(function e(t){var a,r,c,u,s,i,l,p;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=n.state,r=a.userId,c=a.name,u=a.startTime,s=a.endTime,i=a.description,l={userId:r,name:c,startTime:u,endTime:s,description:i},p=n.props.location.state.routineId,e.next=6,k(p,l);case 6:n.setState({updated:!0});case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.props=e,n.state={updated:!1},n}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return this.state.updated?r.a.createElement(v.a,{to:"/dashboard"}):r.a.createElement("div",{className:"update-routines"},r.a.createElement("h1",null,"Update Your todo:"),r.a.createElement("form",{onChange:this.handleChange,onSubmit:this.handleSubmit},r.a.createElement("label",{for:"startTime"},"Start"),r.a.createElement("input",{name:"startTime",type:"text"}),r.a.createElement("label",{for:"endTime"},"End"),r.a.createElement("input",{name:"endTime",type:"text"}),r.a.createElement("label",{for:"description"},"What to do"),r.a.createElement("input",{name:"description",type:"text"}),r.a.createElement("div",{className:"submit"},r.a.createElement("input",{type:"submit"}))))}}]),t}(r.a.Component)),A=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(m.a)(this,Object(d.a)(t).call(this,e))).state={routines:[]},n}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props.user;return r.a.createElement("div",{className:"routine"},r.a.createElement(v.d,null,r.a.createElement(v.b,{exact:!0,path:"/dashboard/",component:C}),r.a.createElement(v.b,{exact:!0,path:"/dashboard/routine/:id",render:function(e){return r.a.createElement(U,e)}}),r.a.createElement(v.b,{exact:!0,path:"/dashboard/create",render:function(t){return r.a.createElement(T,Object.assign({},t,{user:e}))}}),r.a.createElement(v.b,{exact:!0,path:"/dashboard/routine/:routine_id/update",render:function(e){return r.a.createElement(D,e)}})))}}]),t}(r.a.Component),F=n(41),L=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(m.a)(this,Object(d.a)(t).call(this,e))).handleSubmitForm=function(){var e=Object(i.a)(o.a.mark(function e(t){var a,r,c,u;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=n.state,r=a.email,c=a.password,u=n.props.handleLogin,e.prev=3,e.next=6,u({email:r,password:c});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),n.setState(function(e){return{showError:!0}});case 11:case"end":return e.stop()}},e,null,[[3,8]])}));return function(t){return e.apply(this,arguments)}}(),n.handleTextInput=function(e){var t=e.target,a=t.name,r=t.value;n.setState(function(e){return Object(F.a)({},a,r)})},n.state={email:"",password:"",showError:!1},n}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e,t=this.props.isSignedIn;return this.state.showError&&(e=r.a.createElement("div",{className:"errorMessage"},r.a.createElement("span",null,"An error occured, please try again"))),t?r.a.createElement(v.a,{to:"/dashboard"}):r.a.createElement("div",null,r.a.createElement("h1",null,"Login"),e,r.a.createElement("form",{className:"form",onSubmit:this.handleSubmitForm},r.a.createElement("div",null,r.a.createElement("label",null,"Email"),r.a.createElement("input",{type:"text",name:"email",onChange:this.handleTextInput,value:this.state.email})),r.a.createElement("div",null,r.a.createElement("label",null,"Password"),r.a.createElement("input",{type:"password",name:"password",onChange:this.handleTextInput,value:this.state.password})),r.a.createElement("button",null,"Login")))}}]),t}(r.a.Component);n(142);var P=function(e){return r.a.createElement("div",{className:"login"},r.a.createElement(L,e))},M=(n(143),function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(m.a)(this,Object(d.a)(t).call(this,e))).handleSubmitForm=function(){var e=Object(i.a)(o.a.mark(function e(t){var a,r,c,u,s;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=n.state,r=a.name,c=a.email,u=a.password,s=n.props.handleSignUp,console.log(n.props),e.prev=4,e.next=7,s({name:r,email:c,password:u});case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(4),n.setState(function(e){return{showError:!0}});case 12:case"end":return e.stop()}},e,null,[[4,9]])}));return function(t){return e.apply(this,arguments)}}(),n.handleTextInput=function(e){var t=e.target,a=t.name,r=t.value;n.setState(function(e){return Object(F.a)({},a,r)})},n.state={name:"",email:"",password:"",showError:!1},n}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return this.props.isSignedIn?r.a.createElement(v.a,{to:"/dashboard"}):r.a.createElement("div",null,r.a.createElement("h1",{className:"sign-form-title"},"Sign Up"),r.a.createElement("form",{className:"sign-up-form",onSubmit:this.handleSubmitForm},r.a.createElement("div",null,r.a.createElement("label",null,"Name"),r.a.createElement("input",{type:"text",name:"name",onChange:this.handleTextInput,value:this.state.name})),r.a.createElement("div",null,r.a.createElement("label",null,"Email"),r.a.createElement("input",{type:"text",name:"email",onChange:this.handleTextInput,value:this.state.email})),r.a.createElement("div",null,r.a.createElement("label",null,"password"),r.a.createElement("input",{type:"password",name:"password",onChange:this.handleTextInput,value:this.state.password})),r.a.createElement("button",{className:"sign-up-button"},"Sign up")))}}]),t}(a.Component));n(227);var W=function(e){return r.a.createElement("div",{className:"signup"},r.a.createElement(M,e))},B=n(111),J={isAuthenticated:function(){return!!localStorage.getItem("token")},signOut:function(){localStorage.removeItem("token")}};var R=function(e){var t=e.component,n=Object(B.a)(e,["component"]);return r.a.createElement(v.b,Object.assign({},n,{render:function(e){return J.isAuthenticated()?r.a.createElement(t,Object.assign({},e,n)):r.a.createElement(v.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},_=(n(228),function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(m.a)(this,Object(d.a)(t).call(this,e))).loginUser=function(){var e=Object(i.a)(o.a.mark(function e(t){var a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O(t);case 3:a=e.sent,n.setState(function(e){return{isSignedIn:!0,user:a}}),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),n.signOutUser=function(){J.signOut(),n.setState(function(e){return{isSignedIn:!1,user:{}}})},n.signUpUser=function(){var e=Object(i.a)(o.a.mark(function e(t){var a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x(t);case 3:a={email:t.email,password:t.password},n.loginUser(a),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),n.state={isSignedIn:!1,user:{}},n}return Object(h.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=Object(i.a)(o.a.mark(function e(){var t;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y();case 3:t=e.sent,this.setState(function(e){return{isSignedIn:J.isAuthenticated(),user:t}}),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,n=t.isSignedIn,a=t.user;return r.a.createElement("div",{className:"App"},r.a.createElement("nav",null,n&&r.a.createElement("div",null,r.a.createElement(f.b,{to:"/dashboard"},"Home")),n?r.a.createElement(f.b,{onClick:this.signOutUser},"Sign Out"):r.a.createElement("div",null,r.a.createElement(f.b,{to:"/login"},"Login")),n?null:r.a.createElement("div",null,r.a.createElement(f.b,{to:"/signup"},"Sign up"))),r.a.createElement("div",null,n?null:r.a.createElement("div",null,r.a.createElement("h2",{className:"title"},"Todo"),r.a.createElement("br",null),r.a.createElement("h4",{className:"title-description"},"Make your own todo list from scratch"))),r.a.createElement("main",null,r.a.createElement(R,{path:"/dashboard",user:a,component:A}),r.a.createElement(v.b,{path:"/login",render:function(t){return r.a.createElement(P,Object.assign({},t,{handleLogin:e.loginUser,isSignedIn:n}))}}),r.a.createElement(v.b,{path:"/signup",render:function(t){return r.a.createElement(W,Object.assign({},t,{handleSignUp:e.signUpUser,isSignedIn:n}))}})))}}]),t}(r.a.Component));u.a.render(r.a.createElement(f.a,null,r.a.createElement(_,null)),document.getElementById("root"))},63:function(e,t,n){}},[[112,1,2]]]);
//# sourceMappingURL=main.4f3fa424.chunk.js.map